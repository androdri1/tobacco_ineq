* Genera base de datos de gasto por rubros con el archivo conformado - ENIG 2006
clear all
graph drop _all
set mem 500m
set more off
cd "C:\Users\Jorge\Desktop\enig2006_2007 conformados\DATOS"
use v_conformados4_aje1, clear
destring vivienda-factor, replace
#delimit ;
recode articulo (0 9999 =.) (
1110101
  1110102  
    1110103  
    1110201  
    1110202  
    1110301  
    1110302  
    1110401  
    1110503  
    1110601  
= 011)
(1110402
1110501
1110502
1110602
1110603
1110604
1110605
1110706
1110712
=012)
(1110704
1110705
=013)
(
1110701
1110702
1110707
1110708
1110709
1110710
1110711
=014)
(
1110801
1110802
1110803
1110901
1110902
1110903
1110904
=015)
(
1120101
1120102
1120103
1120104
1120105
1120106
1120107
1120201
1120202
1120203
1120204
1120205
1120206
1120207
1120301
1120302
1120303
1120304
1120401
1120402
1120403
1120404
1120501
1120506
1120600
1130100
1130201
1130202
1130204
1130205
=021)
(1120502
1120503
1120504
1120505
1120507
1120508
1120509
1130203
=022)
(1220100
1220200
1220300
1220400
1220500
1220600
=091)
(1140101
1140102
1140103
1140104
1140105
1140201
1140202
1140203
1140204
1140301
1140302
1140303
1140304
1140305
1140306
1140307
1140308
1140400
=031)
(1140501
1140502
=032)
(
1150101
1150102
1150103
1150200
1150300
1150401
1150402
1150403
=041)
(1160101  
    1160102  
    1160103  
    1160104  
    1160105  
    1160106  
    1160107  
    1160108  
    1160109  
    1160110  
    1160111  
    1160112  
    1160113  
    1160114  
    1160115  
    1160116  
    1160117  
    1160118  
    1160119  
    1160120  
    1160121  
    1160122  
    1160123  
    1160124  
    1160125  
    1160126  
    1160127  
    1160128  
    1160129  
    1160130  
    1160131  
    1160132  
    1160133  
    1160134  
    1160135  
    1160136  
    1160137  
    1160138  
    1160139  
    1160140  
    1160200  
=051)
(1170101
1170102
1170103
1170104
1170105
1170106
1170107
1170108
1170109
1170110
1170111
1170112
1170113
1170114
1170115
1170116
1170117
1170119
1170120
1170121
1170122
1170123
1170124
1170125
1170126
1170127
1170128
1170129
1170130
1170131
1170132
1170133
1170134
1170135
1170136
1170137
1170138
1170139
1170140
1170141
1170303
=052)
(1160301
1170201
1170202
1170203
1170204
1170205
=053)
(1170401
1170402
1170403
1170501
1170502
1170600
1170700
1170800
1171000
1171101
1171102
1110703
=061)
(1170900=062)
(
1180400
1210101
1210102
1210103
1210104
1210105
1210201
1210202
1210203
1210204
1210205
1210301
1210302
=071)
(1180101
1180102
1180200
1180308
=072)
(1180301
1180302
1180303
1180304
1180305
1180306
1180500
=073)
(1180307
1180600
1180700
1180800
=074)
(1160302
1180900
=075)
(
1190101
1190102
1190103
1190104
1190105
1190106
1190200
1190301
1190302
1190303
1190304
1190305
1190306
1190400
1190501
1190502
1190503
1190700
=081)
(1190600=082)
(1170301
1170302
=083)
( 1190800
 = 084)
(
1220700=092)
(2200101
2200102
2200103
2300100
=093)
(1220100
11110101
11110102
11110103
11110105
11110200
11110301
11110302
11110303
11110304
11110305
11110306
11110401
11110402
11110403
11110404
11110405
11110406
11110407
11110408
11110409
11110410
11110411
11110412
11110413
11110414
=101)
(11110600=102)
(7310102
7320101
7320102
7320103
7320105
7320207
7340200
=111)
(7220100
7220200
7220300
7240102
=112)
(9430101
9430103
9520100
=113)
(9340200=114)
(9410107
9410205
=115)
(8300201
8300203
8300504
=116)
(3220100
4420102
9330100
12700502
12700504
=117)
(12700700=118), gen(rubro);
recode articulo (
5610101
5610102
5610103
5610104
5610105
5610106
5610107
5610108
5610109
5610110
5610111
5610112
5610201
5610202
5610203
5610204
5610205
5610501
5610502
5610503
5610504
5610505
5610113
5620101
5620102
5620103
4440103
4440200
5610301
5610400
=111
), gen(subrubro);
recode subrubro (5610305 = 11111);
recode subrubro(
12130201
12130202
12130203
12130204
12130205
12130206
12130207
12130301
12130302
12130303
12130401
12130402
12130403
3120210
12130404
12130405
12130501
12130502
12130503
12130504
12130505
12130506
12130507
12130101
5520303
12130508
12110101
12110102
12110103
12110104
12110105
12110106
12110107
12110108
12110109
5610306
3140200
12400101
12400102
12400203
=211
);
recode subrubro(
12120101
12120102
12120103
12120104
12130102
12310202
12310203
=212
);
recode subrubro(
4120100
4440101
12610107
4520100
4530100
4540100
5110203
5520301
5520302
5520305
9420602
8300401
8300403
8300502
8300503
=311);
recode subrubro(
4310101
4310102
4310103
4310104
4310105
4310106
4310107
4310108
4310109
4320100
4320200
4320300
4320400
4320500
4320600
4320700
5620201
5620202
5620302
7360100
4320900
4410101
4410103
4430101
4510101
4510103
4520201
4520203
8300302
9420601
8300501
4320800
4440102
=312
);
recode subrubro (
12520100
12610110
12610111
12700601
= 3121);
recode subrubro (
4510102
4510104
4520202
4410102
4420101
4430102
8300301
=313
);
recode subrubro(
3120101
3120102
3120103
3120104
3120105
3120106
3120107
3120108
3120109
3120110
3120111
3120112
3120113
3120114
3120115
3120116
3130101
3130102
3130103
3130104
3130105
3130106
3210101
3210102
3210103
3210104
=411
);
recode subrubro (
3120201
3120202
3120203
3120204
3120205
3120206
3120207
3120208
3120209
3120211
3120212
3120213
3120214
3120215
3120216
3120217
3120218
3120219
3120220
3130201
3130202
3130203
3130204
3130205
3210201
3210202
3210203
3210204
3210205
=412);
recode subrubro(3120301
3120302
3120303
3120304
3120305
3120306
3120307
3120308
3120309
3120310
3120311
3120312
3120313
3120314
3120315
3120316
3210301
3210302
3210303
3210304
=413
);
recode subrubro (3120401
3120402
3120403
3120404
3120405
3120406
3120407
3120408
3120409
3120410
3120411
3120412
3120413
3120414
3120415
3120416
3120417
3120418
3120419
3210401
3210402
3210403
3210404
3210405
=414);
recode subrubro(
3120501
3120502
3120503
3120504
3120505
3120506
3120507
3120508
3120509
3130304
3210500
12320201
12320202
12320203
12320204
12320205
12320206
12320207
5400313
5400314
=415);
recode subrubro (3130302
12320101
12320102
3130305
3130301
3110100
12320103
12320104
12320105
12320400
12320300
3220200
9320200
3210600
3220300
5610302
5610303
3130303
3140101
3140102
3140300
5610308
=416
);
recode subrubro (
12310101
12310102
12310103
12310104
12310301
12310302
12310303
=4161
);
recode subrubro(
10100102
12400201
10100202
10200102
10100302
10500100
10500200
10500300
10500600
10500700
11120101
7320301
7320302
11200400
9510106
9540101
9540103
9540104
9540201
9540202
9540203
9540402
9540501
9540502
9540105
10100106
10100206
10100303
10200106
12700503
9540302
9540303
9540304
=511
);
recode subrubro(
10100101
10100103
10100104
10100105
10100201
10100203
10100204
10100205
10100301
10200101
10200103
10200104
10200105
10400101
10400102
10400200
10400300
10500400
10500500
12400202
9510102
9510107
9510200
9530102
=512
);
recode subrubro(
6110101
6110102
6110103
6110104
6110105
6110106
6110107
6110108
6110109
6110110
6110111
1180103
6110112
6120202
6110302
6120201
6110113
6110115
6110116
6110200
6110301
6110303
6110404
6110305
6120101
6120102
6120103
6120105
6120106
6240100
6240200
12400303
=611
);
recode subrubro (
6210100
6210200
6210300
6210400
6220100
6230100
6230200
6230301
6230302
6230303
6230304
6230305
=612);
recode subrubro (
6300100
6300200
6300300
6110114
12530103
12530101
6300401
6120104
6130101
6130102
6130103
6130104
6130105
6130106
6130107
6130108
6130109
6130110
6230400
=613
);
recode subrubro (
5400102
5400103
5400104
5400105
5400106
5400201
5400202
5400301
5400302
5400303
5400304
5400305
5400306
5400307
5400308
5400309
5110204
5110401
5110402
5400310
5400311
5320109
5400401
5400402
5400403
5400404
5400405
5400406
5400500
5520101
5520304
5610304
5520400
5610307
5400407
5510300
5330103
=711);
recode subrubro (5110101
5110102
5110103
5110104
5110105
5110106
5110107
5110108
5110109
5110110
5110111
5110112
5110113
5110114
5110115
5110116
5110117
5110118
=712);
recode subrubro (5310100
5310201
5310202
5310301
5310302
5310303
5310304
5310305
5310306
5310307
5310308
5310501
5310502
5310503
5310601
5310602
5310700
9110101
9110102
9110103
9110106
9110107
9110201
9110202
9110203
9110204
9110205
9110206
9110207
9110208
9150100
5310800
5310900
5320110
5320111
5320114
5320115
5510102
5510103
5510104
5510200
5520200
5520500
5520600
=7121);
recode subrubro (
5200100
5200201
5200202
5200203
5200204
5200205
5200206
5200207
5200300
5200401
5200402
5200403
5200501
5200502
5200503
5200504
5200505
5200506
5320113
5200600
5320101
5320102
5320103
5320104
5320105
5320106
5320107
5320108
5320112
5400101
5520102
5520103
5520105
5620301
5620303
5110201
5110202
5120100
5120200
5130100
5130200
5330101
5330102
5510101
5620400
12310201
=7122);
recode subrubro (
5110301
5110302
5110303
5110304
5110305
=71221);
recode subrubro (8300202
8300505
8300506
8300507
8100101
8100102
8300100
7240101
7240200
7320201
7320202
7310101
7320203
7320204
7320206
7330100
7340100
7350100
=811);
recode subrubro (8200101
8200102
8200103
8200201
8200202
8300402
8100103
7360200
7360300
7140100
7330200
=812);
recode subrubro (7210300
7220400
7240304
7230200
7210202
7230100
7240302
=911);
recode subrubro (7110101
7110102
7120101
7110103
7120102
7210100
7210201
7210400
7210500
7230300
7230400
7240301
7240303
9110105
12700602
=912);
recode subrubro (12700603 = 9121);
recode subrubro (
9410201
9410202
9410204
9420101
9420102
9420401
9420402
9420502
9410101
9410102
9410103
11110500
11200100
11200200
12200100
9140101
9140102
9140103
9140104
9140105
9140200
9140300
9220200
9310204
9330200
9330400
9330500
9340300
9350100
9410104
9410105
9420800
9420900
9430102
9510101
9510104
9510105
9520301
9530101
9540301
7210600
=1011);
recode subrubro (2110100
2110200
2110300
2110400
2110500
2120100
2130101
2130102
=10111);
recode subrubro (9310303
9310201
9420200
9420301
9420302
9421000
9540102
9600200
9420700
9410300
=1012);
recode subrubro (
9130106
9130107
9130108
9110104
9120101
9120102
9120103
9120201
9120202
9120203
9120300
9150200
=1013);
recode subrubro (
9130101
9130102
9130103
9130104
9130105
9130109
9130201
9130202
9130203
9130204
9130301
9130302
9130304
9130303
9130400
=101311);
recode subrubro (7130100
9310202
9310100
9310203
9310301
9310302
9310400
9410203
9320100
9320300
9210100
9210200
9220100
9230100
9340100
9410106
9420501
9420503
11200300
9510103
9520200
9520302
9540401
9600100
=10131);

recode subrubro (
12610103
12610106
12610105
12610108
12610104
12610112
12620101
12610101
12610102
12610114
12620102
12620103
12400403
12610109
12610113
=1111);
recode subrubro (12700301
12700302
11120102
11110104
12700800
=1211);
recode subrubro (1191000
9330300
12700100
12700900
12700200
12700400
12700501
12320500
12400204
12700603
12700604
=1212);
recode subrubro (
12510100
12540101
12540102
12530102
12540103
12550100
= 1311);
# delimit cr
egen gasto=rowtotal(valor*), missing
save recodif.dta, replace
preserve
keep if (articulo!=rubro & rubro!=subrubro & articulo==subrubro)
save rubros.dta, replace
restore
keep if (articulo==rubro & articulo!=subrubro & rubro!=subrubro)
ren gasto gastomf
save rubrosmf.dta, replace
merge 1:1 vivienda hogar articulo using v_conformados6_aje1.dta
egen gastomft=rowtotal(gastomf valor_credito), missing
save rubrosmf.dta, replace
